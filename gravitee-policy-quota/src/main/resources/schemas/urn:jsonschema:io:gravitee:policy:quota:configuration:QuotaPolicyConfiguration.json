{
  "type" : "object",
  "id" : "urn:jsonschema:io:gravitee:policy:quota:configuration:QuotaPolicyConfiguration",
  "properties" : {
    "async": {
      "type": "boolean",
      "default": false,
      "title": "Non-strict mode (async)",
      "description": "By activating this option, quota is applied in an asynchronous way meaning that the distributed counter value is not strict."
    },
    "addHeaders": {
      "type": "boolean",
      "default": true,
      "title": "Add response headers",
      "description": "Add X-Quota-Limit, X-Quota-Remaining and X-Quota-Reset headers in HTTP response"
    },
    "rate" : {
      "type" : "object",
      "id" : "urn:jsonschema:io:gravitee:policy:quota:configuration:QuotaConfiguration",
      "properties" : {
        "limit" : {
          "type" : "integer",
          "description": "Limit on the number of requests that can be sent."
        },
        "periodTime" : {
          "type" : "integer",
          "default": 30,
          "description": "Time duration."
        },
        "periodTimeUnit" : {
          "type" : "string",
          "default": "DAYS",
          "enum" : [ "SECONDS", "MINUTES", "HOURS", "DAYS" ],
          "description": "Time duration unit."
        }
      },
      "required": [
        "limit",
        "periodTime",
        "periodTimeUnit"
      ]
    }
  },
  "required": [
    "rate"
  ]
}